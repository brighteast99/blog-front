@import 'tailwindcss/components';

@layer components {
  .Tiptap-wrapper {

    &.Tiptap-viewer {
      div.ProseMirror {
        @apply focus-visible:outline-none;
      }
    }

    &:not(.Tiptap-viewer) {
      @apply rounded transition-colors;

      > div:first-child {
          @apply border border-b-0 border-neutral-100 p-1 bg-neutral-100;
        }

      > div:not(:last-child):not(:first-child) {
        @apply min-h-120 h-120 bg-neutral-50 rounded-b border-t-0 overflow-y-scroll border border-neutral-100 resize-y;
      }
    }

    > div:not(:last-child):not(:first-child) {
      @apply w-full;
    }

    div.ProseMirror {
      @apply size-full overflow-auto focus:outline-0 p-5;

      >div.ProseMirror-gapcursor::after {
        @apply border-t-foreground;
      }

      a {
        @apply transition-colors hover:underline decoration-1 underline-offset-4 visited:text-secondary text-primary font-semibold;
      }

      ul {
        list-style: disc;
      }

      ol {
        list-style: decimal;
      }

      ul, ol {
        padding-inline-start: 20px;

        li:not(:first-child) {
          margin-top: 8px;
        }
      }

      img {
        @apply h-auto max-w-full inline-block;

        &.ProseMirror-selectednode {
          @apply outline outline-2 outline-primary;
        }
      }

      p[data-placeholder]:first-child::before {
        @apply pointer-events-none float-left h-0 text-neutral-400;
        content: attr(data-placeholder);
      }
    }
  }
}